<ion-navbar *navbar>
  <button menuToggle *ngIf="!searchBarVisible">
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title *ngIf="!searchBarVisible">Animals</ion-title>
  <ion-buttons right *ngIf="!searchBarVisible">
    <button (click)="showSearchBar()">
      <ion-icon name="search"></ion-icon>
    </button>
  </ion-buttons>
  <ion-searchbar
      *ngIf="searchBarVisible"
      [(ngModel)]="searchString"
      (input)="filterAnimals()"
      (cancel)="hideSearchBar()"
      (focus)="onCancel()">
  </ion-searchbar>
</ion-navbar>

<ion-content class="animals">
  <button (click)="doRefresh()">Refresh</button>
  <button (click)="doRefresh(true)">Force Refresh</button>
  <ion-card *ngFor="let item of filteredAnimals">
    <img src="{{settings.host}}{{ item.title_image }}"/>
    <ion-card-content>
      <ion-card-title>
        {{ item.spieces.en }}
      </ion-card-title>
      <p>
        {{ item.description.en }}
      </p>
    </ion-card-content>
  </ion-card>
</ion-content>
